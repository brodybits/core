const a=0,b=1,c=3,d="http://www.w3.org/1999/xlink",e="http://www.w3.org/2000/svg",f={},g=[];function i(a,b,c,d,e,f){return{type:a,props:b,children:c,element:d,key:e,flag:f}}function j(a,b){return i(a,f,g,b,null,c)}function k(b){return"string"==typeof b&&(b=document.querySelector(b)),i(b.nodeName.toLowerCase(),f,g.map.call(b.childNodes,l),b,null,a)}function l(a){return 3===a.nodeType?j(a.nodeValue,a):k(a)}function m(a,c,...d){c=c||{};let e;const f=[],g=[];let h=d.length;const k=Reflect.get(c,"key");for(;0<h--;)f.push(d[h]);for(Reflect.get(c,"children")&&(0>=f.length&&f.push(c.children),delete c.children);0<f.length;)if(Array.isArray(e=f.pop()))for(let a=e.length;0<a--;)f.push(e[a]);else if(!1===e||!0===e||null==e);else g.push("object"==typeof e?e:j(e));return"function"==typeof a?a(c,c.children=g):i(a,c,g,null,k,b)}function h(...a){function c(a,b=new WeakMap){if(Object(a)!==a)return a;if(b.has(a))return b.get(a);const d=a instanceof Date?new Date(a):a instanceof RegExp?new RegExp(a.source,a.flags):a.constructor?new a.constructor:Object.create(null);return b.set(a,d),Object.assign(d,...Object.keys(a).map(d=>({[d]:c(a[d],b)})))}return(Array.isArray(a[0])?a.unshift([]):a.unshift({}),Array.isArray(a[0]))?a.reduce((d,a)=>Array.prototype.concat(d,c(a))):"object"==typeof a[0]?a.reduce((d,a)=>Object.assign(d,c(a))):void 0}function n(a){return a.currentTarget.events[a.type](a)}function o(a){return null==a?null:a.key}function p(a,b,c){const d={};let e,f;for(;b<=c;)null!=(e=(f=a[b]).key)&&(d[e]=f),b++;return d}function q(a,b,c,e,f){if("key"===b);else if("style"===b)for(let d in h(c,e)){const c=null==e||null==e[d]?"":e[d];"-"===d[0]?a[b].setProperty(d,c):a[b][d]=c}else if("o"===b[0]&&"n"===b[1])b=b.slice(2).toLowerCase(),a.events||(a.events={}),a.events[b]=e,null==e?a.removeEventListener(b,n):null==c&&a.addEventListener(b,n);else{let c=null==e||!1===e;b in a&&"list"!==b&&"type"!==b&&"draggable"!==b&&"spellcheck"!==b&&"translate"!==b&&!f?(a[b]=null==e?"":e,c&&a.removeAttribute(b)):"xlink-href"===b||"xlinkHref"===b?(a.setAttributeNS(d,"href",e),a.setAttribute("href",e)):c?a.removeAttribute(b):a.setAttribute(b,e)}}function r(a,b,d){let f=a.flag===c?document.createTextNode(a.type):(d=d||"svg"===a.type)?document.createElementNS(e,a.type):document.createElement(a.type);const g=a.props;g.onmount&&b.push(function(){g.onmount(f)});let h=0;for(const c=a.children.length;h<c;)f.appendChild(r(a.children[h],b,d)),h++;for(let c in g)q(f,c,null,g[c],d);return a.element=f}function s(a){let b=0;for(const c=a.children.length;b<c;)s(a.children[b]),b++;return a.element}function t(a,b){const c=function(){a.removeChild(s(b))},d=b.props&&b.props.onunmount;null==d?c():d(c,b.element)}function u(a,b,c,d,e,f){for(let g in h(b,c))("value"==g||"checked"==g?a[g]:b[g])!==c[g]&&q(a,g,b[g],c[g],e);const g=f?c.onmount:c.onupdate;null!=g&&d.push(function(){g(a,b,c)})}function v(b,d,e,f,g,h){if(f===e);else if(null!=e&&e.flag===c&&f.flag===c)e.type!==f.type&&(d.nodeValue=f.type);else if(null==e||e.type!==f.type){const a=b.insertBefore(r(f,g,h),d);null!=e&&t(b,e),d=a}else{u(d,e.props,f.props,g,h=h||"svg"===f.type,e.flag===a);let b,c,i,j,k=e.children,l=0,m=k.length-1;const n=f.children;let q=0,s=n.length-1;for(;q<=s&&l<=m&&(i=o(k[l]),j=o(n[q]),null!=i&&i===j);)v(d,k[l].element,k[l],n[q],g,h),l++,q++;for(;q<=s&&l<=m&&(i=o(k[m]),j=o(n[s]),null!=i&&i===j);)v(d,k[m].element,k[m],n[s],g,h),m--,s--;if(l>m)for(;q<=s;)d.insertBefore(r(n[q++],g,h),(c=k[l])&&c.element);else if(q>s)for(;l<=m;)t(d,k[l++]);else{const f=p(k,l,m),r={};for(;q<=s;){if(i=o(c=k[l]),j=o(n[q]),r[i]||null!=j&&j===o(k[l+1])){null==i&&t(d,c),l++;continue}null==j||e.flag===a?(null==i&&(v(d,c&&c.element,c,n[q],g,h),q++),l++):(i===j?(v(d,c.element,c,n[q],g,h),r[j]=!0,l++):null==(b=f[j])?v(d,c&&c.element,null,n[q],g,h):(v(d,d.insertBefore(b.element,c&&c.element),b,n[q],g,h),r[j]=!0),q++)}for(;l<=m;)null==o(c=k[l++])&&t(d,c);for(let a in f)null==r[a]&&t(d,f[a])}}return d&&(f.element=d),f}class w{constructor(){this.message="Cannot insert Fragment tag directly into DOM.",this.toString=function(){return this.message}}}function x(a,b,c){const d=[];if("string"==typeof c&&(c=document.querySelector(c)),Array.isArray(b))throw new w;if(v(c,a&&a.element,a,b,d),b!==a)for(;0<d.length;)d.pop()();return b}function y(a,b,c){if(b="string"==typeof b?document.querySelector(b):b,!b)return console.error("@composi/core Error: You need to provide a valid container to render the component in. Check the element or selector you provided and make sure that it exists in the DOM before trying to render."),void console.error(`@composi/core Message: The container you provided was "${b}"`);let d;c?("string"==typeof c&&(c=document.querySelector(c)),d=k(c)):d=b&&Reflect.get(b,"vnode");const e=x(d,a,b);b.vnode=e}function z(a,b){return A(a)||B(a,b)||C()}function A(a){if(Array.isArray(a))return a}function B(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!(b&&c.length===b));d=!0);}catch(a){e=!0,f=a}finally{try{d||null==h["return"]||h["return"]()}finally{if(e)throw f}}return c}function C(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function D(a){function b(a){j&&c(d(h,a))}function c(c){let d,g=a.init();if(c){var j=z(c,2);h=j[0],i=j[1]}else if(g&&g.length){var k=z(g,2);h=k[0],i=k[1],f&&(d=f(),d(b))}else h=[];i&&i(b),e(h,b)}const d=a.update,e=a.view,f=a.subscriptions,g=a.done;let h,i,j=!0;return a.send=b,c(h),()=>{j&&(j=!1,g&&g(h))}}const E=Object.prototype.hasOwnProperty;function F(a){const b=Object.create(null);let c=a=>a&&a.type;const d=(a,b)=>(d,e)=>{const f=c(d),g=E.call(a,f)&&a[f];return g?g(d.data,e):b(e)};for(let c=0;c<a.length;){const d=a[c];b[d]=a=>({type:d,data:a}),c++}return{variants:b,match:function(a,b,c){return d(b,c)(a)}}}function G(a){const b=F(a),c=b.variants,d=b.match;return c.match=d,c}function H(a,b){return c=>d=>e=>(c(b(e)),a(d))}const I=a=>b=>a.map(a=>a&&a(b));export{m as h,y as render,k as hydrate,D as run,G as union,H as mapEffect,I as batchEffects};
//# sourceMappingURL=composi-core.mjs.map
